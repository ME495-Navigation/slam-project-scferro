<launch>
  <arg name="cmd_src" default="teleop"/>
  <arg name="robot" default="nusim"/>
  <arg name="use_rviz" default="true"/>

  <!-- Launch slam launch file -->
  <include file="$(find-pkg-share nuslam)/launch/slam.launch.xml" if="$(eval '\'$(var robot)\' != \'none\'')">
    <arg name="use_rviz" value="true"/>
    <arg name="use_lidar" value="true"/>
    <arg name="cmd_src" value="$(var cmd_src)"/>
    <arg name="robot" value="$(var robot)"/>
  </include>

  <!-- Launch landmark detection node -->
  <node pkg="nuslam" exec="landmarks"/>

</launch>